<div class="guestbook-container">
  <h2>ðŸ““ Leave Your Glitchy Mark</h2>

  <form (ngSubmit)="submitMessage()" #form="ngForm" class="guestbook-container">
  <input
    type="text"
    placeholder="Nickname"
    [(ngModel)]="nickname"
    name="nickname"
    required
    [readonly]="nickname !== ''"
  />
  <textarea
    placeholder="Message"
    [(ngModel)]="message"
    name="message"
    required
  ></textarea>
  <button type="submit" [disabled]="!form.valid">Submit</button>
</form>


  <div *ngIf="loading">Loading guestbook entries...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="guestbook-comments">
  <ul>
    <li *ngFor="let entry of guestbookEntries$ | async">
      <strong>{{ entry.nickname }}</strong> 
      <em>({{ formatTimestamp(entry.timestamp) }})</em>: 
      {{ entry.message }}
    </li>
  </ul>
</div>
</div>
